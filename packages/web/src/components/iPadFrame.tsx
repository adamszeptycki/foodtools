"use client";

import { useEffect, useState } from "react";

interface IPadFrameProps {
	children: React.ReactNode;
}

function StatusBar() {
	const [time, setTime] = useState<string>("");

	useEffect(() => {
		const updateTime = () => {
			const now = new Date();
			setTime(
				now.toLocaleTimeString("en-US", {
					hour: "numeric",
					minute: "2-digit",
					hour12: true,
				})
			);
		};
		updateTime();
		const interval = setInterval(updateTime, 1000);
		return () => clearInterval(interval);
	}, []);

	return (
		<div className="status-bar flex items-center justify-between px-6 py-1.5 text-white text-sm font-medium">
			{/* Left side - Time */}
			<div className="flex items-center gap-2">
				<span>{time}</span>
			</div>

			{/* Center - Camera area (invisible spacer) */}
			<div className="w-20" />

			{/* Right side - Network, WiFi, Battery */}
			<div className="flex items-center gap-2">
				{/* Carrier */}
				<span className="text-xs">T-Mobile</span>

				{/* Signal strength bars */}
				<div className="flex items-end gap-0.5 h-3">
					<div className="w-1 h-1 bg-white rounded-sm" />
					<div className="w-1 h-1.5 bg-white rounded-sm" />
					<div className="w-1 h-2 bg-white rounded-sm" />
					<div className="w-1 h-2.5 bg-white rounded-sm" />
				</div>

				{/* WiFi icon */}
				<svg
					className="w-4 h-4"
					viewBox="0 0 24 24"
					fill="currentColor"
				>
					<path d="M12 18c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm-4.9-2.3l1.4 1.4C9.4 16.4 10.6 16 12 16s2.6.4 3.5 1.1l1.4-1.4C15.6 14.6 13.9 14 12 14s-3.6.6-4.9 1.7zm-2.8-2.8l1.4 1.4C7.3 13 9.5 12 12 12s4.7 1 6.3 2.3l1.4-1.4C17.7 11.1 15 10 12 10s-5.7 1.1-7.7 2.9zM1.4 10l1.4 1.4C5.1 9.2 8.4 8 12 8s6.9 1.2 9.2 3.4l1.4-1.4C19.8 7.5 16.1 6 12 6S4.2 7.5 1.4 10z" />
				</svg>

				{/* Battery */}
				<div className="flex items-center gap-0.5">
					<div className="w-6 h-3 border border-white rounded-sm relative">
						<div className="absolute inset-0.5 bg-green-500 rounded-sm" style={{ width: "85%" }} />
					</div>
					<div className="w-0.5 h-1.5 bg-white rounded-r-sm" />
				</div>
			</div>
		</div>
	);
}

function JetBridgeLogo() {
	return (
		<div className="absolute top-4 right-4 flex flex-col items-end gap-1 z-20">
			<svg
				viewBox="0 0 128 30"
				xmlns="http://www.w3.org/2000/svg"
				className="w-32 xl:w-40"
			>
				<g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
					<g transform="translate(0, -6.930664)">
						<g transform="translate(0, 6.930664)">
							<path
								d="M21.3659,8.9451685 L29.6151295,8.95349407 C31.5035686,8.95349407 33.3911543,8.93934045 35.2787399,8.9351778 C35.4195409,8.93101516 35.5603388,8.94849911 35.694313,8.98679543 C35.8564474,9.03924473 35.8811975,9.15080355 35.7813568,9.28733826 C35.7216231,9.3639309 35.655914,9.43552818 35.5850868,9.50129795 C34.2922783,10.7825596 32.7264026,11.5767913 30.9497509,12.0022135 C29.8062767,12.276948 28.6389101,12.3160773 27.4715424,12.3169098 C23.7953579,12.3202399 20.1183197,12.3110821 16.4412823,12.2894363 C15.6442637,12.2836086 14.8736976,12.3410532 14.1372662,12.6490889 C13.9383679,12.7357926 13.7466476,12.8373871 13.5638227,12.9529619 C13.1985937,13.1769121 12.9835529,13.4791192 12.8854189,13.9136992 C12.2018944,16.941606 11.4944757,19.9645178 10.7862043,22.9865971 C10.6010298,23.7774993 10.3254014,24.5434262 9.96273232,25.2735538 C9.07696646,27.0668207 7.64079702,28.1923997 5.68238401,28.7060699 C4.5252564,29.0099429 3.3442353,29.122335 2.15297413,29.136488 C1.50955653,29.1448132 0.866139069,29.1106771 0.222721472,29.0940266 C0.157867715,29.0923615 0.0947206244,29.0790439 0,29.0673885 L0.570883811,26.6031017 L1.19979453,26.6031017 C1.73505825,26.6099716 2.26885962,26.5469737 2.78700495,26.4157829 C3.60535699,26.2051532 4.19928101,25.7364386 4.57560349,24.9913254 C4.95533931,24.2403845 5.22243424,23.4511495 5.41699553,22.6419315 C5.92899895,20.5048304 6.46830881,18.3727241 6.9103384,16.2214699 C7.36602139,13.9969532 7.72527719,11.7532878 8.11781311,9.51628304 C8.30384099,8.45564139 8.42757495,7.38334477 8.65114975,6.33102846 C8.90885809,5.11720169 9.4191547,3.99994802 10.2451868,3.03920984 C11.1616728,1.97440553 12.3426952,1.32503313 13.6884108,0.932912111 C14.7397244,0.629039139 15.820904,0.495002016 16.9106178,0.420074433 C18.3356938,0.321836047 19.7590636,0.220267519 21.1858463,0.12619178 C21.9256912,0.0770725869 22.6663891,0.0329485689 23.4070873,0.00131247984 C23.9361575,-0.0195007375 24.2433595,0.206947118 24.4063473,0.700636625 C24.6026152,1.29256457 24.4012271,1.92861637 23.8755703,2.36902404 C23.4941278,2.6895476 23.0392971,2.86354605 22.5580139,2.97760248 C21.9171564,3.12995523 21.2617928,3.14577364 20.6081352,3.1590941 C19.0917519,3.19073018 17.5745158,3.19572503 16.0598392,3.24567676 C14.8779649,3.28397308 13.8138509,3.65195119 12.9553919,4.4844799 C12.6451898,4.78745478 12.410714,5.15608773 12.2701607,5.56177187 C12.2392283,5.64136719 12.2171981,5.72398914 12.2044535,5.80820036 C12.197216,5.88308613 12.2151044,5.95823932 12.2554255,6.02235079 C12.2957465,6.08646225 12.3563195,6.13606354 12.4280291,6.16369009 C12.5884568,6.22279963 12.7693643,6.15952748 12.8546982,6.01383495 C12.880405,5.96714449 12.9004509,5.91769187 12.9144316,5.86647701 C13.1149662,5.24291301 13.533102,4.79584548 14.1039858,4.47948456 C14.7126536,4.13833314 15.3998111,3.95276303 16.1016521,3.94000578 C17.7272629,3.9058721 19.352874,3.88172866 20.976778,3.84093475 C21.4657413,3.82844682 21.7959836,4.04323968 21.9888382,4.45700645 C22.2610533,5.03727901 22.1577988,5.58092016 21.7541695,6.07211208 C21.4793943,6.40512356 21.1116062,6.61075822 20.7062702,6.75894833 C20.0833328,6.98622866 19.4347943,7.05366285 18.7777233,7.0694809 C17.4593147,7.10111699 16.1391997,7.12692553 14.8199377,7.15606403 C14.7328971,7.15606403 14.645856,7.16438977 14.5605221,7.1827054 C14.4797694,7.20018989 14.4078668,7.24476493 14.3573427,7.30866194 C14.3068186,7.37255894 14.2808778,7.45172653 14.2840414,7.53236771 C14.2909352,7.61268376 14.3263243,7.68813879 14.3841133,7.74573421 C14.4419023,7.80332964 14.5184719,7.83945829 14.6006298,7.84789562 C14.6774303,7.85455585 14.7542301,7.85455591 14.8301773,7.84956074 C16.0308251,7.82375235 17.2306211,7.79627847 18.428709,7.76880503 C19.2735146,7.7504894 19.8230629,8.38237876 19.6805553,9.2099123 C19.5918081,9.72608012 19.2948479,10.1065457 18.8562317,10.3896055 C18.3817752,10.694311 17.8475845,10.8391712 17.2920609,10.9140987 C17.0437392,10.9457348 16.7920045,10.9590557 16.5428295,10.9798689 C16.2808544,11.0006821 16.1332277,11.1397139 16.1468811,11.3503437 C16.1596812,11.5459879 16.3149874,11.683355 16.5564823,11.6741972 C17.414088,11.6417286 18.2520674,11.5160177 19.0140991,11.0997534 C19.8162377,10.6626758 20.3273888,10.0241255 20.4050426,9.10168362 C20.405896,9.06005718 20.4152803,9.01759849 20.427227,8.9451685 L21.3659,8.9451685 Z M23.0386467,3.79871225 L23.4900627,3.69214821 C23.9619592,3.58058934 24.4074041,3.41408366 24.7956734,3.14434433 C25.5525851,2.61652106 25.9237868,1.9371776 25.7590923,1.05885971 C25.7530762,1.03006773 25.7496493,1.00081809 25.7488518,0.971444249 C25.7526249,0.943214959 25.7589069,0.915359102 25.7676258,0.888191342 L26.0773888,0.888191342 L35.2917442,0.878200948 C37.966109,0.875703362 40.6404736,0.878200958 43.3148384,0.869875669 C46.6121407,0.861550381 49.9085913,0.849894987 53.20504,0.834076941 C53.3125607,0.829081768 53.420932,0.831579347 53.5275993,0.840737164 C53.7537342,0.869875673 53.825416,0.997252688 53.6922951,1.16875362 C53.5677076,1.3269341 53.4277595,1.47512415 53.2741585,1.60999382 C52.1989512,2.58072245 50.9069935,3.20511878 49.4529037,3.57309651 C48.4075633,3.83700815 47.3374764,3.88695998 46.2631226,3.90610814 C44.298736,3.93940929 42.33435,3.97520817 40.3691101,3.9993515 C37.1588485,4.04097794 33.9485867,4.07594409 30.7383251,4.10758018 C28.3754292,4.13005846 26.0133867,4.14337931 23.6513443,4.16002989 C23.5335835,4.16252747 23.4166772,4.16086245 23.2809963,4.16086245 L23.2809963,4.16252708 L23.0386467,3.79871225 Z M24.0174274,5.21650839 C26.1337085,5.2023554 28.250843,5.19319763 30.3679771,5.17654705 C33.1020756,5.15656636 35.8353214,5.13325551 38.5694199,5.10661459 C40.1224971,5.09162907 41.6755719,5.06915107 43.2286491,5.04584026 C44.2270558,5.03168727 45.22717,5.01253887 46.2272835,4.99755335 C46.397098,4.99505576 46.5694731,4.98922822 46.7358742,5.01586914 C46.9415289,5.04917029 46.9893149,5.18570498 46.8621674,5.34471798 C46.7832402,5.43996238 46.6977065,5.52980939 46.6061668,5.61362505 C45.2817845,6.87157619 43.6792103,7.6250149 41.8496513,7.97301197 C40.8828182,8.15783337 39.9040397,8.15200563 38.9261131,8.16449356 C37.0112203,8.1886369 35.0971832,8.21611083 33.1831436,8.23359394 C30.8851013,8.25523969 28.587059,8.26856006 26.2890167,8.28604317 C24.5763652,8.2985311 22.8637128,8.31101848 21.1519146,8.32517147 L20.788393,8.32517147 L20.4786301,7.81899452 C20.7022049,7.76488015 20.9070054,7.72158816 21.1075401,7.66747379 C21.5819966,7.53926435 22.0240277,7.34528458 22.407177,7.04640675 C22.9516073,6.62015197 23.2613685,6.07900864 23.292942,5.40549278 C23.2946487,5.35803864 23.3006211,5.30975201 23.3091545,5.24148464 C23.5549162,5.23232683 23.7861726,5.21734092 24.0174274,5.21650839 Z M52.0521774,18.5835915 C52.4378867,18.5311421 52.8142083,18.4628742 53.1947975,18.4279079 C54.2486713,18.3313346 55.3051038,18.2697279 56.3640976,18.3571434 C57.0706624,18.4145879 57.7635751,18.5169891 58.4146729,18.8017139 C59.6673746,19.3486854 60.2263115,20.4459586 60.00103,21.7513638 C59.9071627,22.2983352 59.5914269,22.7204269 59.1425705,23.0617638 L58.8959541,23.2532444 C58.8908341,23.257407 58.8959541,23.2723926 58.8959541,23.3081913 C58.9480078,23.3331672 59.0103072,23.3664703 59.075161,23.3939438 C59.9899405,23.7702468 60.4422031,24.4629106 60.5548439,25.3703671 C60.6214043,25.8640566 60.5804429,26.3652386 60.4353752,26.8439426 C60.2015603,27.5932186 59.7040664,28.1360278 58.9864082,28.5073357 C58.4178202,28.7967244 57.7976202,28.977032 57.1594124,29.0384884 C55.5030812,29.2108219 53.8518689,29.1641999 52.2126045,28.8653221 C52.1580812,28.8520615 52.1044942,28.8353763 52.0521774,28.8153706 L52.0521774,18.5835915 Z M54.6540108,27.1411572 C55.2095345,27.1478174 55.7659053,27.1686279 56.3205757,27.1453171 C56.7058305,27.1279211 57.0837406,27.0362457 57.4324799,26.8755798 C57.749922,26.7307198 57.9786155,26.5034382 58.0468826,26.1779194 C58.0908883,25.9504628 58.1006596,25.7179613 58.0758934,25.4877529 C58.0383465,25.0931343 57.8053897,24.800083 57.4188271,24.6577206 C57.1329585,24.5528219 56.8274574,24.4595798 56.5253754,24.4404316 C55.8862244,24.3988052 55.2436625,24.4071299 54.6019516,24.3979721 C54.5430712,24.3979721 54.4841924,24.4229484 54.425312,24.4371014 L54.425312,27.0953674 C54.5106459,27.1128505 54.5823303,27.1403246 54.6540108,27.1411572 Z M54.5635529,22.5822277 C54.981689,22.5822277 55.3981167,22.5988779 55.8128395,22.572237 C56.1844585,22.548992 56.5536491,22.4974959 56.917057,22.4182186 C57.2268191,22.3532814 57.4819722,22.1459807 57.5980263,21.866251 C57.8838949,21.2135484 57.5749908,20.5683385 56.8590393,20.3776894 C56.0637273,20.164562 55.2539051,20.2328311 54.4287262,20.2902756 L54.4278717,22.5522575 C54.4722453,22.5664105 54.5174725,22.5772325 54.5635529,22.5822277 Z M90.4524307,18.5686054 C90.7869396,18.5211513 91.1077979,18.4603767 91.4312134,18.4312382 C92.5294607,18.3354974 93.6302663,18.2655663 94.7327805,18.3613071 C95.4521453,18.4237468 96.1578594,18.5577818 96.8294373,18.8216934 C98.2255,19.3686649 99.1385739,20.3368971 99.55159,21.718895 C99.8995611,22.8838618 99.9324866,24.116872 99.6471634,25.2979355 C99.2017204,27.1994313 97.9379246,28.3641419 95.9880447,28.8703194 C95.2243063,29.0684612 94.4469196,29.1442192 93.660141,29.1383915 C92.7061079,29.1317313 91.7529231,29.1009274 90.8108368,28.9360867 C90.6964894,28.916106 90.5838449,28.8911314 90.4524307,28.8644905 L90.4524307,18.5686054 Z M93.222374,27.0837116 C93.667817,27.0753863 94.1132606,27.0878718 94.5552902,27.0412502 C95.9138061,26.8955577 96.8456523,26.1337941 97.1750412,24.9016514 C97.4082831,24.0436089 97.3911425,23.1390549 97.1255493,22.2900105 C96.8388274,21.3634058 96.2022327,20.7614868 95.2200394,20.5083981 C94.481901,20.3169164 93.7309623,20.3368966 92.9783173,20.3835182 C92.9484504,20.3851833 92.9202922,20.4043318 92.8725052,20.4226475 L92.8725052,27.0479107 C92.995386,27.0612312 93.1097332,27.0853767 93.222374,27.0837116 Z M75.8603363,28.9460793 C75.8884965,29.0010262 75.9098308,29.0576362 75.9456711,29.1383915 L73.0417557,29.1383915 C72.9734886,29.0260001 72.8966892,28.9019531 72.8224487,28.7762413 C72.2336448,27.7772067 71.6226497,26.7914945 70.910965,25.8590622 C70.7556573,25.6567577 70.6182774,25.4011689 70.3972626,25.2946053 C70.1924612,25.1947018 69.8878155,25.258807 69.6266937,25.2529793 C69.4807727,25.2504817 69.3331478,25.2529793 69.1488266,25.2529793 L69.1488266,29.1367283 L66.5589371,29.1367283 L66.5589371,18.5885849 C66.9198995,18.5361356 67.276602,18.4695347 67.6367111,18.4362335 C68.9295198,18.3180144 70.2240329,18.2472487 71.5194016,18.414587 C72.2106062,18.5036676 72.8779169,18.6643455 73.5008545,18.9607258 C74.4028339,19.3894781 74.9651861,20.0488413 75.1734009,20.9521351 C75.3065218,21.5174222 75.310784,22.1010252 75.1870499,22.6671448 C75.0163821,23.4597123 74.5171772,24.0491433 73.7687988,24.4745655 C73.5776509,24.5844593 73.3762652,24.6785349 73.1381836,24.7992516 C74.1927605,26.0841163 75.1052121,27.4741117 75.8603363,28.9460793 Z M69.1616287,23.3181839 C69.7999264,23.3431598 70.4126164,23.3448244 71.0193405,23.2499161 C71.2983824,23.2057921 71.5714535,23.1358581 71.8342819,23.0401173 C72.1790309,22.9144054 72.4026088,22.6696436 72.5084229,22.3449574 C72.6142369,22.0285964 72.6193578,21.6905874 72.5203705,21.3717289 C72.4773308,21.2283075 72.4034701,21.0954767 72.3037109,20.9820728 C72.2039517,20.8686689 72.0805786,20.7772951 71.941803,20.7140331 C71.7698234,20.6326065 71.5900375,20.5679107 71.4050522,20.5208855 C70.9084088,20.391011 70.3964006,20.3743606 69.8826904,20.3885136 C69.6463155,20.3951738 69.4099504,20.4118256 69.1616287,20.4251461 L69.1616287,23.3181839 Z M114.353607,20.9612923 C113.938031,20.8180973 113.555734,20.6699074 113.161491,20.5541859 C112.352526,20.3185802 111.523938,20.3027636 110.697052,20.4584465 C109.836033,20.6199571 109.218213,21.0753483 108.848717,21.8029785 C108.646475,22.2009273 108.521036,22.6271848 108.477516,23.0642624 C108.391329,23.8843033 108.422052,24.6960166 108.761681,25.4735985 C109.22163,26.5250823 110.145793,27.1103514 111.389961,27.1328297 C111.825164,27.141155 112.261226,27.1494801 112.715202,27.0470791 L112.715202,23.4613781 C113.554888,23.4314071 114.366406,23.4530522 115.199265,23.4447269 L115.199265,28.5847588 C114.824649,28.7437718 114.418463,28.8153704 114.016541,28.8944607 C112.798826,29.1333964 111.5649,29.2158186 110.331825,29.0559731 C108.132771,28.7704157 106.714512,27.6240222 106.124855,25.6883926 C105.670879,24.2064914 105.68283,22.7079389 106.354408,21.2709942 C107.185561,19.4885499 108.709623,18.5319741 110.819931,18.3471527 C111.943756,18.2517151 113.075763,18.378863 114.147957,18.7209587 C114.455159,18.817532 114.742738,18.9590615 115.071274,19.0922661 L114.353607,20.9612923 Z M30.7186985,29.1383915 L23.1035004,29.1383915 C23.0386466,28.9277617 23.0113406,18.9415781 23.0744877,18.3679657 C23.3176893,18.3030284 30.0565076,18.2955355 30.3688297,18.3629704 L30.3688297,20.3585434 C29.5573043,20.3801891 28.7474859,20.365203 27.9385204,20.3677006 C27.1363817,20.3710307 26.3359482,20.3677006 25.5167427,20.3677006 L25.5167427,22.4814911 L29.8124523,22.4814911 L29.8124523,24.4987087 L25.5184517,24.4987087 L25.5184517,27.0928669 C26.3752041,27.1178428 27.2379296,27.100361 28.099802,27.1036911 C28.9616745,27.1061887 29.8320792,27.1045227 30.7186985,27.1045227 L30.7186985,29.1383915 Z M127.686172,18.3155174 L127.686172,20.3502178 L123.372551,20.3502178 L123.372551,22.4681721 L127.198074,22.4681721 L127.198074,24.4595795 C126.56319,24.5012059 125.926587,24.472068 125.291702,24.4778957 C124.662791,24.4828909 124.033034,24.4778957 123.41095,24.4778957 C123.346096,24.7243243 123.328177,26.6000102 123.383644,27.0770493 L127.999352,27.0770493 L127.999352,29.1383915 L121.228958,29.1383915 C121.168371,28.9002882 121.149599,18.7401071 121.207626,18.3155174 L127.686172,18.3155174 Z M46.078804,20.3993359 C44.9523964,20.4176515 43.8362286,20.3993353 42.6825142,20.4118233 L42.6825142,29.1383915 L40.1677246,29.1383915 C40.1602085,29.132452 40.1530811,29.1260569 40.146389,29.1192436 C40.1377601,29.1124915 40.1307658,29.1039622 40.1259079,29.0942669 C40.1204042,29.0738316 40.1169758,29.0529203 40.1156693,29.0318298 C40.1137987,29.0005055 40.1129453,28.9691289 40.1131096,28.9377518 L40.1071358,20.5125599 C40.1062027,20.502052 40.1039073,20.4917016 40.1003075,20.4817562 C40.0977474,20.4717659 40.0943346,20.4617762 40.0781212,20.4193172 L36.6946297,20.4193172 C36.6920697,19.7141653 36.6886609,19.0448115 36.6980476,18.3904438 L36.739006,18.3488197 C36.7460247,18.3413212 36.7548122,18.3356053 36.7646065,18.3321686 C36.8084591,18.3231934 36.8529729,18.3176251 36.897728,18.3155174 L45.9499474,18.3180141 C45.9815209,18.3196792 46.0130969,18.334664 46.078804,18.3513145 L46.078804,20.3993359 Z M84.4790573,18.3155174 L84.4790573,29.0776157 C84.2529225,29.1400554 82.4805416,29.1633671 81.9190445,29.1042576 L81.9207458,18.3155174 L84.4790573,18.3155174 Z"
								fill="#FFFFFF"
							/>
						</g>
					</g>
				</g>
			</svg>
			<span className="text-slate-400 text-xs">
				powered by <span className="text-slate-300 font-medium">Last10.ai</span>
			</span>
		</div>
	);
}

export function IPadFrame({ children }: IPadFrameProps) {
	const [scale, setScale] = useState(1);

	useEffect(() => {
		const calculateScale = () => {
			const viewportWidth = window.innerWidth;
			const viewportHeight = window.innerHeight;
			const iPadWidth = 834;
			const iPadHeight = 1194;
			const padding = 40;

			const scaleX = (viewportWidth - padding) / iPadWidth;
			const scaleY = (viewportHeight - padding) / iPadHeight;
			const newScale = Math.min(scaleX, scaleY, 1);

			setScale(newScale);
		};

		calculateScale();
		window.addEventListener("resize", calculateScale);
		return () => window.removeEventListener("resize", calculateScale);
	}, []);

	return (
		<div className="ipad-background fixed inset-0 flex items-center justify-center overflow-hidden">
			{/* JetBridge Logo - Top Right Corner */}
			<JetBridgeLogo />

			{/* iPad Device Frame */}
			<div
				className="ipad-device relative flex flex-col"
				style={{ transform: `scale(${scale})` }}
			>
				{/* Camera notch */}
				<div className="absolute top-3 left-1/2 -translate-x-1/2 z-10">
					<div className="w-2.5 h-2.5 rounded-full bg-slate-800 border border-slate-700" />
				</div>

				{/* Screen area */}
				<div className="ipad-screen flex flex-col">
					<StatusBar />
					<div className="flex-1 overflow-auto hide-scrollbar">
						{children}
					</div>
				</div>
			</div>
		</div>
	);
}
